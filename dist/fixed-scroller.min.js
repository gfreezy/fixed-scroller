/*! Fixed Scroller - v0.1.0 - 2013-12-02
* https://github.com/gfreezy/fixed-scroller
* Copyright (c) 2013 Alex.F; Licensed MIT */
(function(){!function(a,b){var c,d;return d=function(){var a,b,c;for(b=[],a=9,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";--a;)b.push(c.charAt(Math.floor(64*Math.random())));return b.join("")},c=function(){function c(c){var d=this;this.el=c,this.$el=a(this.el),this.$window=a(b),this.$startEl=this.startTop=this.$stopEl=this.stopTop=null,this.posFixed=this.posAbsolute=!1,this.posStatic=!0,this.prevScrollLeft=this.$window.scrollLeft(),this.$placeholder=null,this.$el.css("z-index",2),this.insertPlaceholder(),this.reset(),this.scroll(),this.$window.on("scroll",function(){return d.scroll()})}return c.prototype.insertPlaceholder=function(){return this.$placeholder=a('<div id="'+d()+'" style="height: 0;"></div> '),this.$placeholder.width(this.$el.width()),this.$el.before(this.$placeholder)},c.prototype.reset=function(){var b,c,d;return this.$el.width(this.$el.width()),b=a("#"+this.$el.data("start-id")),this.$startEl=b.size()?b:this.$placeholder,c=a("#"+this.$el.data("stop-id")),this.$stopEl=c.size()?c:a("#fixed-scroller-stop"),this.startTop=this.$startEl.offset().top,d=this.$stopEl.size()?this.$stopEl.offset().top:void 0,this.stopTop=d-this.$el.outerHeight()},c.prototype.scroll=function(){var a,b;return a=this.$window.scrollLeft(),a!==this.prevScrollLeft?(this.prevScrollLeft=a,void 0):this.startTop>=this.stopTop?void 0:(b=this.$window.scrollTop(),!this.posStatic&&this.keepPositionStatic(b)?(this.$el.css("position","static"),this.posStatic=!0,this.posFixed=this.posAbsolute=!1):!this.posFixed&&this.keepPositionFixed(b)?(this.$el.css({position:"fixed",top:0}),this.posFixed=!0,this.posStatic=this.posAbsolute=!1):!this.posAbsolute&&this.keepPositionAbsolute(b)?(this.$el.css({position:"absolute"}),this.$el.offset({top:this.stopTop,left:"auto"}),this.posAbsolute=!0,this.posFixed=this.posStatic=!1):void 0)},c.prototype.keepPositionStatic=function(a){return a<this.startTop},c.prototype.keepPositionFixed=function(a){return this.startTop<=a&&a<this.stopTop},c.prototype.keepPositionAbsolute=function(a){return a>=this.stopTop},c}(),a.fn.fixedScroller=function(b){return this.each(function(){var d,e;return(e=this.fixedScroller)?e.reset():(d=a.extend({},b),this.fixedScroller=e=new c(this,d))})}}($,window,document)}).call(this);